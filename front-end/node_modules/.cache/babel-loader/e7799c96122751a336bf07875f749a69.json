{"remainingRequest":"D:\\Desktop\\Keno\\front-end\\node_modules\\babel-loader\\lib\\index.js!D:\\Desktop\\Keno\\front-end\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Desktop\\Keno\\front-end\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\Desktop\\Keno\\front-end\\src\\store\\modules\\user.js","mtime":1577619287684},{"path":"D:\\Desktop\\Keno\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\Keno\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\Keno\\front-end\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRDpcXERlc2t0b3BcXEtlbm9cXGZyb250LWVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwoKdmFyIF9tdXRhdGlvbnM7CgppbXBvcnQgeyBVU0VSX1JFUVVFU1QsIFVTRVJfRVJST1IsIFVTRVJfU1VDQ0VTUyB9IGZyb20gJy4uL2FjdGlvbnMvdXNlcic7CmltcG9ydCBhcGlDYWxsIGZyb20gJy4uLy4uL3V0aWxzL2FwaSc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgQVVUSF9MT0dPVVQgfSBmcm9tICcuLi9hY3Rpb25zL2F1dGgnOwp2YXIgc3RhdGUgPSB7CiAgc3RhdHVzOiAnJywKICBwcm9maWxlOiB7fQp9Owp2YXIgZ2V0dGVycyA9IHsKICBnZXRQcm9maWxlOiBmdW5jdGlvbiBnZXRQcm9maWxlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvZmlsZTsKICB9LAogIGlzUHJvZmlsZUxvYWRlZDogZnVuY3Rpb24gaXNQcm9maWxlTG9hZGVkKHN0YXRlKSB7CiAgICByZXR1cm4gISFzdGF0ZS5wcm9maWxlLm5hbWU7CiAgfQp9OwoKdmFyIGFjdGlvbnMgPSBfZGVmaW5lUHJvcGVydHkoe30sIFVTRVJfUkVRVUVTVCwgZnVuY3Rpb24gKF9yZWYpIHsKICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQsCiAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICBjb21taXQoVVNFUl9SRVFVRVNUKTsKICBhcGlDYWxsKHsKICAgIHVybDogJ3VzZXIvbWUnCiAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgY29tbWl0KFVTRVJfU1VDQ0VTUywgcmVzcCk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3ApIHsKICAgIGNvbW1pdChVU0VSX0VSUk9SKTsgLy8gaWYgcmVzcCBpcyB1bmF1dGhvcml6ZWQsIGxvZ291dCwgdG8KCiAgICBkaXNwYXRjaChBVVRIX0xPR09VVCk7CiAgfSk7Cn0pOwoKdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBVU0VSX1JFUVVFU1QsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9ICdsb2FkaW5nJzsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBVU0VSX1NVQ0NFU1MsIGZ1bmN0aW9uIChzdGF0ZSwgcmVzcCkgewogIHN0YXRlLnN0YXR1cyA9ICdzdWNjZXNzJzsKICBWdWUuc2V0KHN0YXRlLCAncHJvZmlsZScsIHJlc3ApOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFVTRVJfRVJST1IsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnN0YXR1cyA9ICdlcnJvcic7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgQVVUSF9MT0dPVVQsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLnByb2ZpbGUgPSB7fTsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucwp9Ow=="},{"version":3,"sources":["D:/Desktop/Keno/front-end/src/store/modules/user.js"],"names":["USER_REQUEST","USER_ERROR","USER_SUCCESS","apiCall","Vue","AUTH_LOGOUT","state","status","profile","getters","getProfile","isProfileLoaded","name","actions","commit","dispatch","url","then","resp","catch","mutations","set"],"mappings":";;;;;AAAA,SAASA,YAAT,EAAuBC,UAAvB,EAAmCC,YAAnC,QAAuD,iBAAvD;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AAEA,IAAMC,KAAK,GAAG;AAAEC,EAAAA,MAAM,EAAE,EAAV;AAAcC,EAAAA,OAAO,EAAE;AAAvB,CAAd;AAEA,IAAMC,OAAO,GAAG;AACZC,EAAAA,UAAU,EAAE,oBAAAJ,KAAK;AAAA,WAAIA,KAAK,CAACE,OAAV;AAAA,GADL;AAEZG,EAAAA,eAAe,EAAE,yBAAAL,KAAK;AAAA,WAAI,CAAC,CAACA,KAAK,CAACE,OAAN,CAAcI,IAApB;AAAA;AAFV,CAAhB;;AAKA,IAAMC,OAAO,uBACRb,YADQ,EACO,gBAA0B;AAAA,MAAvBc,MAAuB,QAAvBA,MAAuB;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACtCD,EAAAA,MAAM,CAACd,YAAD,CAAN;AACAG,EAAAA,OAAO,CAAC;AAAEa,IAAAA,GAAG,EAAE;AAAP,GAAD,CAAP,CACKC,IADL,CACU,UAAAC,IAAI,EAAI;AACVJ,IAAAA,MAAM,CAACZ,YAAD,EAAegB,IAAf,CAAN;AACH,GAHL,EAIKC,KAJL,CAIW,UAAAD,IAAI,EAAI;AACXJ,IAAAA,MAAM,CAACb,UAAD,CAAN,CADW,CAEP;;AACJc,IAAAA,QAAQ,CAACV,WAAD,CAAR;AACH,GARL;AASH,CAZQ,CAAb;;AAeA,IAAMe,SAAS,iDACVpB,YADU,EACK,UAACM,KAAD,EAAW;AACvBA,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACH,CAHU,+BAIVL,YAJU,EAIK,UAACI,KAAD,EAAQY,IAAR,EAAiB;AAC7BZ,EAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACAH,EAAAA,GAAG,CAACiB,GAAJ,CAAQf,KAAR,EAAe,SAAf,EAA0BY,IAA1B;AACH,CAPU,+BAQVjB,UARU,EAQG,UAACK,KAAD,EAAW;AACrBA,EAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACH,CAVU,+BAWVF,WAXU,EAWI,UAACC,KAAD,EAAW;AACtBA,EAAAA,KAAK,CAACE,OAAN,GAAgB,EAAhB;AACH,CAbU,cAAf;AAgBA,eAAe;AACXF,EAAAA,KAAK,EAALA,KADW;AAEXG,EAAAA,OAAO,EAAPA,OAFW;AAGXI,EAAAA,OAAO,EAAPA,OAHW;AAIXO,EAAAA,SAAS,EAATA;AAJW,CAAf","sourcesContent":["import { USER_REQUEST, USER_ERROR, USER_SUCCESS } from '../actions/user'\nimport apiCall from '../../utils/api'\nimport Vue from 'vue'\nimport { AUTH_LOGOUT } from '../actions/auth'\n\nconst state = { status: '', profile: {} }\n\nconst getters = {\n    getProfile: state => state.profile,\n    isProfileLoaded: state => !!state.profile.name,\n}\n\nconst actions = {\n    [USER_REQUEST]: ({ commit, dispatch }) => {\n        commit(USER_REQUEST)\n        apiCall({ url: 'user/me' })\n            .then(resp => {\n                commit(USER_SUCCESS, resp)\n            })\n            .catch(resp => {\n                commit(USER_ERROR)\n                    // if resp is unauthorized, logout, to\n                dispatch(AUTH_LOGOUT)\n            })\n    },\n}\n\nconst mutations = {\n    [USER_REQUEST]: (state) => {\n        state.status = 'loading'\n    },\n    [USER_SUCCESS]: (state, resp) => {\n        state.status = 'success'\n        Vue.set(state, 'profile', resp)\n    },\n    [USER_ERROR]: (state) => {\n        state.status = 'error'\n    },\n    [AUTH_LOGOUT]: (state) => {\n        state.profile = {}\n    }\n}\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations,\n}"]}]}